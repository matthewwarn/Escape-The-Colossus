[gd_scene load_steps=28 format=3 uid="uid://bffllo437822"]


[ext_resource type="Script" path="res://Scenes/Entities/Player/player.gd" id="1_msad5"]
[ext_resource type="Texture2D" uid="uid://dmar34rhv6vti" path="res://Scenes/Entities/Player/Health/Heart.png" id="2_8ijun"]
[ext_resource type="Texture2D" uid="uid://dsa177m1n5qh2" path="res://Scenes/Entities/Player/player sprites.png" id="3_dw74v"]
[ext_resource type="PackedScene" uid="uid://oe1d3avjdk7a" path="res://Scenes/speedrun.tscn" id="4_dbof1"]


[sub_resource type="AtlasTexture" id="AtlasTexture_ntkm0"]
atlas = ExtResource("3_dw74v")
region = Rect2(624, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1shvf"]
atlas = ExtResource("3_dw74v")
region = Rect2(672, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xi6g2"]
atlas = ExtResource("3_dw74v")
region = Rect2(720, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_y4nem"]
atlas = ExtResource("3_dw74v")
region = Rect2(768, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mu0nu"]
atlas = ExtResource("3_dw74v")
region = Rect2(816, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cfs67"]
atlas = ExtResource("3_dw74v")
region = Rect2(48, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6vqaa"]
atlas = ExtResource("3_dw74v")
region = Rect2(192, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_88ar7"]
atlas = ExtResource("3_dw74v")
region = Rect2(432, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2cupa"]
atlas = ExtResource("3_dw74v")
region = Rect2(0, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_t21to"]
atlas = ExtResource("3_dw74v")
region = Rect2(48, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_enedu"]
atlas = ExtResource("3_dw74v")
region = Rect2(96, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_svee1"]
atlas = ExtResource("3_dw74v")
region = Rect2(144, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fokwa"]
atlas = ExtResource("3_dw74v")
region = Rect2(288, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s0fbi"]
atlas = ExtResource("3_dw74v")
region = Rect2(192, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fuy1x"]
atlas = ExtResource("3_dw74v")
region = Rect2(240, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2lsnv"]
atlas = ExtResource("3_dw74v")
region = Rect2(288, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tbxnw"]
atlas = ExtResource("3_dw74v")
region = Rect2(336, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hh4hi"]
atlas = ExtResource("3_dw74v")
region = Rect2(384, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_05v27"]
atlas = ExtResource("3_dw74v")
region = Rect2(432, 0, 48, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_23yfs"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ntkm0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1shvf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xi6g2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y4nem")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mu0nu")
}],
"loop": false,
"name": &"Attack",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cfs67")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6vqaa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_88ar7")
}],
"loop": false,
"name": &"Death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2cupa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t21to")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_enedu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_svee1")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fokwa")
}],
"loop": false,
"name": &"Jump",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s0fbi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fuy1x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2lsnv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tbxnw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hh4hi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_05v27")
}],
"loop": true,
"name": &"Movement",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1uc2o"]
radius = 5.0
height = 14.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_f0iub"]
radius = 11.0
height = 26.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_afjy0"]
radius = 5.0

[node name="Player" type="CharacterBody2D"]
collision_layer = 6
collision_mask = 3
script = ExtResource("1_msad5")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Heart1" type="TextureRect" parent="CanvasLayer"]
offset_left = 10.0
offset_top = 10.0
offset_right = 522.0
offset_bottom = 522.0
scale = Vector2(0.1, 0.1)
texture = ExtResource("2_8ijun")

[node name="Heart2" type="TextureRect" parent="CanvasLayer"]
offset_left = 65.0
offset_top = 10.0
offset_right = 577.0
offset_bottom = 522.0
scale = Vector2(0.1, 0.1)
texture = ExtResource("2_8ijun")

[node name="Heart3" type="TextureRect" parent="CanvasLayer"]
offset_left = 120.0
offset_top = 10.0
offset_right = 632.0
offset_bottom = 522.0
scale = Vector2(0.1, 0.1)
texture = ExtResource("2_8ijun")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -16)
sprite_frames = SubResource("SpriteFrames_23yfs")
animation = &"Attack"
autoplay = "Idle"
frame = 4
frame_progress = 0.582506

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -7)
shape = SubResource("CapsuleShape2D_1uc2o")

[node name="recieve_damage_cooldown" type="Timer" parent="."]

[node name="deal_damage_timer" type="Timer" parent="."]
wait_time = 0.4

[node name="player_hitbox" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="player_hitbox"]
visible = false
position = Vector2(0, -12)
shape = SubResource("CapsuleShape2D_f0iub")

[node name="Speedrun Timer" parent="." instance=ExtResource("4_dbof1")]

[node name="attack_hitbox" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="attack_hitbox"]
position = Vector2(-17, -14)
shape = SubResource("CapsuleShape2D_afjy0")

[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
[connection signal="timeout" from="recieve_damage_cooldown" to="." method="_on_recieve_damage_cooldown_timeout"]
[connection signal="timeout" from="deal_damage_timer" to="." method="_on_deal_attack_timer_timeout"]
[connection signal="body_entered" from="player_hitbox" to="." method="_on_player_hitbox_body_entered"]
[connection signal="body_exited" from="player_hitbox" to="." method="_on_player_hitbox_body_exited"]
[connection signal="body_entered" from="attack_hitbox" to="attack_hitbox" method="_on_body_entered"]
